{"ast":null,"code":"var _jsxFileName = \"D:\\\\Quiz\\\\user\\\\src\\\\components\\\\molecues\\\\TestView\\\\Timer.js\";\nimport { withStyles } from \"@material-ui/styles\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { saveAnswerAction } from \"../../../redux/actions/takeTestAction\";\nimport { endTestAction } from \"../../../redux/actions/takeTestAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst useStyles = theme => ({});\n\nvar x = null;\n\nclass Timer extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props.time);\n    this.state = {\n      h: parseInt(props.time / 3600000),\n      m: parseInt(props.time / 1000 % 3600 / 60),\n      s: parseInt(props.time / 1000 % 60),\n      startCountDown: false\n    };\n  }\n\n  countdown() {\n    if (x !== null) {\n      clearInterval(x);\n    }\n\n    x = setInterval(() => {\n      var h = this.state.h;\n      var m = this.state.m;\n      var s = this.state.s - 1;\n\n      if (s < 0) {\n        this.props.saveAnswerAction();\n        s = 59;\n        m = m - 1;\n\n        if (m < 0) {\n          m = 59;\n          h = h - 1;\n\n          if (h < 0) {\n            this.props.endTestAction();\n            this.setState({\n              h: 0,\n              m: 0,\n              s: 0,\n              startCountDown: true\n            });\n            console.log(\"test ended\");\n            clearInterval(x);\n            return;\n          }\n        }\n      }\n\n      this.setState({\n        h: h,\n        m: m,\n        s: s,\n        startCountDown: true\n      });\n    }, 1000);\n  }\n\n  render() {\n    if (this.props.time === undefined) {\n      console.log(\"time not found\");\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }, this);\n    }\n\n    if (this.state.startCountDown === false) {\n      this.countdown();\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.h, \":\", this.state.m, \":\", this.state.s]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStatetoProps = state => ({});\n\nexport default withStyles(useStyles)(connect(mapStatetoProps, {\n  saveAnswerAction,\n  endTestAction\n})(Timer));","map":{"version":3,"names":["withStyles","React","connect","saveAnswerAction","endTestAction","useStyles","theme","x","Timer","Component","constructor","props","console","log","time","state","h","parseInt","m","s","startCountDown","countdown","clearInterval","setInterval","setState","render","undefined","mapStatetoProps"],"sources":["D:/Quiz/user/src/components/molecues/TestView/Timer.js"],"sourcesContent":["import { withStyles } from \"@material-ui/styles\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { saveAnswerAction } from \"../../../redux/actions/takeTestAction\";\nimport { endTestAction } from \"../../../redux/actions/takeTestAction\";\nconst useStyles = (theme)=>({\n  \n})\n\nvar x = null;\n\nclass Timer extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props.time);\n    this.state = {\n      h : parseInt(props.time/3600000),\n      m : parseInt(((props.time/1000)%3600)/60),\n      s : parseInt((props.time/1000)%60),\n      startCountDown : false\n    }\n  }\n\n\n  countdown() {\n    if(x !== null) {\n      clearInterval(x);\n    }\n    x = setInterval(()=>{\n      var h = this.state.h;\n      var m = this.state.m;\n      var s = this.state.s - 1;\n      if(s < 0) {\n        this.props.saveAnswerAction();\n        s = 59;\n        m = m - 1;\n        if(m < 0) {\n          m = 59;\n          h = h - 1;\n          if(h < 0 ){\n            this.props.endTestAction();\n            this.setState({h:0,m:0,s:0,startCountDown : true});\n            console.log(\"test ended\");\n            clearInterval(x);\n            return;\n          }\n        }\n      }\n      this.setState({h:h,m:m,s:s, startCountDown: true});\n    },1000);\n  }\n\n  render() {\n    if(this.props.time === undefined) {\n      console.log(\"time not found\");\n      return (<div></div>);\n    }\n    if(this.state.startCountDown===false) {\n      this.countdown();\n    }\n    return (<div>{this.state.h}:{this.state.m}:{this.state.s}</div>)\n  }\n\n}\n\nconst mapStatetoProps = state => ({\n\n})\n\nexport default withStyles(useStyles)(connect(mapStatetoProps,{\n  saveAnswerAction,\n  endTestAction\n\n})(Timer));"],"mappings":"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"},"metadata":{},"sourceType":"module"}